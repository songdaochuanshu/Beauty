var d=Object.defineProperty;var m=(n,t,e)=>t in n?d(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var c=(n,t,e)=>(m(n,typeof t!="symbol"?t+"":t,e),e);import{j as u,R as a,a as y}from"./vendor.52d470ab.js";const h=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}};h();const r=u.exports.jsx;class p extends a.Component{constructor(t){super(t);c(this,"onScroll",async t=>{window.onscroll=async()=>{var e=document.documentElement.scrollTop||document.body.scrollTop,s=document.documentElement.clientHeight||document.body.clientHeight,o=document.documentElement.scrollHeight||document.body.scrollHeight;e+s+50>=o&&await this.getImages(t)}});this.state={imagesList:[],mode:"9",modeValue:"",size:80,scrollTop:0,windowHeight:0,scrollHeight:0}}componentDidMount(){this.setState({mode:this.getUrlParam("mode")}),this.getImages(this.state.size),this.onScroll(this.state.size),this.keydown()}async getImages(t=1){for(let e=0;e<t;e++){let o=await(await fetch(`https://3650000.xyz/api/?type=json&mode=${this.state.mode}&`)).json();this.setState(i=>({imagesList:[...i.imagesList,o.url]}))}}clickEnlarge(t){let e=document.createElement("div"),s=document.createElement("img");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100vh",e.style.background="rgba(0,0,0,0.9)",e.style.zIndex="999",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.cursor="zoom-out",e.style.transition="all 0.5s",e.animate([{opacity:0},{opacity:1}],{duration:300,fill:"forwards"}),s.src=t.target.src,e.appendChild(s),s.style.maxWidth="100%",s.style.maxHeight="95%",s.style.transition="all 0.4s",document.body.appendChild(e),e.onclick=o=>{s.style.opacity="0",setTimeout(()=>{document.body.removeChild(e)},380)},document.onkeydown=o=>{o.keyCode===27&&(s.style.opacity="0",setTimeout(()=>{document.body.removeChild(e)},380))}}getUrlParam(t){let e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),s=window.location.search.substr(1).match(e);return s!=null?unescape(s[2]):"9"}keydown(){document.addEventListener("keydown",t=>{if(t.ctrlKey&&t.keyCode===73){let e=prompt("Please enter the mode:","66");e&&(console.log(e),this.setState({mode:e}),console.info(this.state.mode))}})}render(){return r("div",{children:r("div",{className:"waterfall",children:this.state.imagesList.map((t,e)=>r("div",{className:"image-box",children:r("img",{src:t,alt:"",onClick:this.clickEnlarge})},e))})})}}y.render(r(a.StrictMode,{children:r(p,{})}),document.getElementById("root"));
